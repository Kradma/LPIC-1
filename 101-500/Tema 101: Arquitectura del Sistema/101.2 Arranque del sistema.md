* El bootloader carga el SO, este a su vez es cargado por un firmware como BIOS o UEFI.
  * Desde el gestor de arranque se pueden personalizar parámetros para el kernel.
  * Cargado el SO el núcleo identifica y configura el hardware.
  * Finalmente se inician los servicios del sistema.
# BIOS o UEFI
* BIOS es un programa almacenado en una memoria no volátil conectada a la placa.
  * Firmware.
* En un dispositivo de almacenamiento los primeros 512 bytes se denominan MBR.
  * Usado en los esquemas de partición estandares de DOS.
  * Los primeros 440 bytes almacenan el cargador de arranque (bootstrap).
  * A continuación se encuentra la tabla de particiones. (Si no es correcta no arranca.).
  * Finalmente la firma de MBR.
* Los pasos previos a arrancar el SO con BIOS son:
  1. **POST (power-on self-test)**: Identifica fallas de dispositivo simples.
  2. BIOS activa componentes básicos, salida de vídeo, teclado o almacenaiento.
  3. BIOS carga los primeros 440 bytes del primer dispositivo/MBR.
  4. El bootstrap llama a la segunda etapa, encargada de las opciones de arranque y cargar el kernel.

* UEFI, difiere de BIOS ya que, a pesar de ser un firmware, puede identificar particiones y leer los sistemas de archivos de las particiones.
* **UEFI NO SE BASA EN MBR**
* Unicamente se basa en su config almacenada en NVRAM.
  * Definen la ubi de las EFI Applications.
    * Deben estar en partición de almacenamiento convencional, en un formato compatible como FAT12, GAT16, FAT32.
    * La partición que las contiene se llama _EFI System Partition_ o _ESP_.
    * El directorio EFI, en la partición ESP, contiene las aplicaciones señaladas en las entradas de la NVRAM.
* Los pasos previos a arrancar el sistema con UEFI son:
  1. Proceso POST (power-on self-test).
  2. UEFI activa los componentes básicos, salida de vídeo, teclado, almacenamiento,
  3. El firmware UEFI, lee las definiciones de NVRAM para ejecutar las aplicaciones EFI de ESP, generalmente, un gestor de arranque.
  4. Si era un gestor de arraque, cargará el kernel del SO.
* UEFI permite utilizar Secure Boot, que limita la ejecución de aplicaciones EFI a aquellas firmadas, autorizadas por fabricante.  

# El cargador de arranque
* Generalmente se utiliza **GRUB**.
  * Muestra un listado de SO disponibles.
    * En caso de no aparece BIOS: Shift; UEFI: Esc.
  * Permtite seleccionar el núcleo de linux a cargar y pasarle parámetros(option=value). Algunos de los parámetros más interesantes son:
    * `acpi=on/off`: Des/Habilita el soporte ACPI.
    * `init=<path>`: Establece un iniciador del SO alternativo. `init=/bin/bash` iniciará una shell justo después del arranque del Kernel.
    * `systemd.unit`: Selecciona el "target" de systemd a activar. 
      * `systemd.unit=graphical.target`
      * Admite también los niveles de ejecución de SysV.
        * El nivel 1 unicamente hace falta incluir el 1 o el S.
    * `mem=<num_M>`: Cantidad de RAM para el sistema.
    * `maxcpus=<num>: Limita el número de CPUs visibles para el sistema.
      * `0`: Correría como una máquina monoprocesador. Equivalente a `nosmp`.
    * `vga`: Selecciona el modo de video.
      * `vga=ask`: Muestra una lista de modos disponibles.
    * `root`: Establece una partición raíz distinta a la preconfigurada en el gestor de arranque.
      * `root=/dev/sda3`
    * `rootflags`: Opciones de montaje para el sistema de archivos raíz.
    * `ro`: Monta el sistema raíz en modo "Read Only".
    * `rw`: Permite la escritura en el sistema raíz durante el montaje.
* Los parámetros del SO asociados al arranque, se encuentran en `/etc/default/grub` en la variable `GRUB_CMDLINE_LINUX`.
  * Modificar este fichero implica generar un nuevo archivo de configuración:
    * `grub-mkconfig -o /boot/grub/grub.cfg`
  * Con el SO activo, se encuentran los parámetros utilizados en `/proc/cmdline`.
# Inicialización del sistema
